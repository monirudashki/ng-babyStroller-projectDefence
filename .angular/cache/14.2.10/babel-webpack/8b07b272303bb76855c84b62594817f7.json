{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\n\nfunction HeaderComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"a\", 7);\n    i0.ɵɵtext(2, \"Add+\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 8);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function HeaderComponent_div_9_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.logoutHandler());\n    });\n    i0.ɵɵtext(7, \"Logout\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate((tmp_0_0 = i0.ɵɵpipeBind1(5, 1, ctx_r0.currentUser$)) == null ? null : tmp_0_0.username);\n  }\n}\n\nfunction HeaderComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"a\", 11);\n    i0.ɵɵtext(2, \"Login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 12);\n    i0.ɵɵtext(4, \"Register\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport class HeaderComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.isLoggingOut = false;\n    this.currentUser$ = this.authService.currentUser$;\n    this.isLogged$ = this.authService.isLogged$;\n  }\n\n  ngOnInit() {}\n\n  logoutHandler() {\n    if (this.isLoggingOut) {\n      return;\n    }\n\n    this.isLoggingOut = true;\n    this.authService.logout$().subscribe({\n      next: () => {\n        this.isLoggingOut = false;\n        this.router.navigate(['/home']);\n      },\n      complete: () => console.log('logout completed'),\n      error: () => this.isLoggingOut = false\n    });\n  }\n\n}\n\nHeaderComponent.ɵfac = function HeaderComponent_Factory(t) {\n  return new (t || HeaderComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nHeaderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HeaderComponent,\n  selectors: [[\"app-header\"]],\n  decls: 13,\n  vars: 6,\n  consts: [[\"id\", \"logo\", \"routerLink\", \"/home\"], [\"id\", \"logo-img\", \"src\", \"../../../assets/cute-baby-logo-design-vector_56473-234.webp\", \"alt\", \"\"], [\"routerLink\", \"/strollers\"], [\"routerLink\", \"/search\"], [\"class\", \"user\", 4, \"ngIf\"], [\"class\", \"guest\", 4, \"ngIf\"], [1, \"user\"], [\"routerLink\", \"/strollers/create\"], [\"routerLink\", \"/auth/profile\"], [3, \"click\"], [1, \"guest\"], [\"routerLink\", \"/auth/login\"], [\"routerLink\", \"/auth/register\"]],\n  template: function HeaderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\")(1, \"a\", 0);\n      i0.ɵɵelement(2, \"img\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"nav\")(4, \"div\")(5, \"a\", 2);\n      i0.ɵɵtext(6, \"Catalog\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"a\", 3);\n      i0.ɵɵtext(8, \"Search\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(9, HeaderComponent_div_9_Template, 8, 3, \"div\", 4);\n      i0.ɵɵpipe(10, \"async\");\n      i0.ɵɵtemplate(11, HeaderComponent_div_11_Template, 5, 0, \"div\", 5);\n      i0.ɵɵpipe(12, \"async\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", !!i0.ɵɵpipeBind1(10, 2, ctx.isLogged$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(12, 4, ctx.isLogged$));\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLinkWithHref, i3.AsyncPipe],\n  styles: [\"header[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    align-items: center;\\r\\n    padding: 2px 0px;\\r\\n    background: rgba(70, 20, 158);\\r\\n}\\r\\n  \\r\\nnav[_ngcontent-%COMP%] {\\r\\n    background-color: rgba(70, 20, 158);\\r\\n    height: 0px;\\r\\n    margin-bottom: 15px;\\r\\n    display: flex;\\r\\n    justify-content: space-between;\\r\\n    color: aliceblue;\\r\\n}\\r\\n  \\r\\n#logo[_ngcontent-%COMP%] {\\r\\n    font-style: italic;\\r\\n    font-size: 30px;\\r\\n}\\r\\n  \\r\\n#logo-img[_ngcontent-%COMP%] {\\r\\n    height: 30px;\\r\\n  }\\r\\n  \\r\\nnav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    font-size: 1.5rem;\\r\\n    color: #0a0a0a;\\r\\n    font-weight: 400;\\r\\n  }\\r\\n  \\r\\nheader[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\r\\n    padding: 20px 20px;\\r\\n    text-decoration: none;\\r\\n    color: aliceblue;\\r\\n  }\\r\\n  \\r\\nheader[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\r\\n    color: rgb(202, 203, 204);\\r\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlYWRlci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7R0FNRzs7QUFFSDtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIsbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQiw2QkFBNkI7QUFDakM7O0FBRUE7SUFDSSxtQ0FBbUM7SUFDbkMsV0FBVztJQUNYLG1CQUFtQjtJQUNuQixhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixlQUFlO0FBQ25COztBQUVFO0lBQ0UsWUFBWTtFQUNkOztBQUVBO0lBQ0UsaUJBQWlCO0lBQ2pCLGNBQWM7SUFDZCxnQkFBZ0I7RUFDbEI7O0FBRUE7SUFDRSxrQkFBa0I7SUFDbEIscUJBQXFCO0lBQ3JCLGdCQUFnQjtFQUNsQjs7QUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7QUFFRjs7R0FFRyIsImZpbGUiOiJoZWFkZXIuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGJvZHkge1xyXG4gICAgY29sb3I6IHJnYmEoNzAsIDIwLCAxNTgpO1xyXG4gICAgYmFja2dyb3VuZDogcmdiKDIyOCwgMjI3LCAyMjcpO1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgcGFkZGluZzogMDtcclxuICAgIG92ZXJmbG93OiBhdXRvO1xyXG59ICovXHJcbiAgXHJcbmhlYWRlciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDJweCAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKDcwLCAyMCwgMTU4KTtcclxufVxyXG4gIFxyXG5uYXYge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg3MCwgMjAsIDE1OCk7XHJcbiAgICBoZWlnaHQ6IDBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcclxufVxyXG4gIFxyXG4jbG9nbyB7XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICBmb250LXNpemU6IDMwcHg7XHJcbn1cclxuICBcclxuICAjbG9nby1pbWcge1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gIH1cclxuICBcclxuICBuYXYgYSB7XHJcbiAgICBmb250LXNpemU6IDEuNXJlbTtcclxuICAgIGNvbG9yOiAjMGEwYTBhO1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICB9XHJcbiAgXHJcbiAgaGVhZGVyIGEge1xyXG4gICAgcGFkZGluZzogMjBweCAyMHB4O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6IGFsaWNlYmx1ZTtcclxuICB9XHJcbiAgXHJcbiAgaGVhZGVyIGE6aG92ZXIge1xyXG4gICAgY29sb3I6IHJnYigyMDIsIDIwMywgMjA0KTtcclxuICB9XHJcbiAgXHJcbi8qIHNlY3Rpb24ge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTAwcHg7XHJcbn0gKi9cclxuXHJcbiAgIl19 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAaMA,+BAAgD,CAAhD,EAAgD,GAAhD,EAAgD,CAAhD;IACoCA;IAAIA;IACtCA;IAA8BA;;IAAsCA;IACpEA;IAAGA;MAAAA;MAAA;MAAA,OAASA,sCAAT;IAAwB,CAAxB;IAA0BA;IAAMA;;;;;;IADLA;IAAAA;;;;;;IAKhCA,gCAAgD,CAAhD,EAAgD,GAAhD,EAAgD,EAAhD;IAC8BA;IAAKA;IACjCA;IAA+BA;IAAQA;;;;ACX/C,OAAM,MAAOC,eAAP,CAAsB;EAO1BC,YAAoBC,WAApB,EAAuDC,MAAvD,EAAqE;IAAjD;IAAmC;IALvD,oBAAwB,KAAxB;IAEA,oBAAkC,KAAKD,WAAL,CAAiBE,YAAnD;IACA,iBAAiC,KAAKF,WAAL,CAAiBG,SAAlD;EAE0E;;EAE1EC,QAAQ,IACP;;EAEDC,aAAa;IACX,IAAG,KAAKC,YAAR,EAAsB;MACpB;IACD;;IAED,KAAKA,YAAL,GAAoB,IAApB;IAEA,KAAKN,WAAL,CAAiBO,OAAjB,GAA2BC,SAA3B,CAAqC;MACnCC,IAAI,EAAE,MAAK;QACT,KAAKH,YAAL,GAAoB,KAApB;QACA,KAAKL,MAAL,CAAYS,QAAZ,CAAqB,CAAC,OAAD,CAArB;MACD,CAJkC;MAKnCC,QAAQ,EAAE,MAAMC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CALmB;MAMnCC,KAAK,EAAE,MAAM,KAAKR,YAAL,GAAoB;IANE,CAArC;EAQD;;AA3ByB;;;mBAAfR,iBAAeD;AAAA;;;QAAfC;EAAeiB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX5BtB,+BAAQ,CAAR,EAAQ,GAAR,EAAQ,CAAR;MAGOA;MACDA;MAEFA,4BAAK,CAAL,EAAK,KAAL,EAAK,CAAL,EAAK,GAAL,EAAK,CAAL;MAE+BA;MAAOA;MAClCA;MAAwBA;MAAMA;MAIhCA;;MAOAA;;MAIFA;;;;MAXQA;MAAAA;MAOAA;MAAAA","names":["i0","HeaderComponent","constructor","authService","router","currentUser$","isLogged$","ngOnInit","logoutHandler","isLoggingOut","logout$","subscribe","next","navigate","complete","console","log","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\user\\OneDrive\\Работен плот\\firststeps\\ng-babyStrollers-projectDefence\\src\\app\\core\\header\\header.component.html","C:\\Users\\user\\OneDrive\\Работен плот\\firststeps\\ng-babyStrollers-projectDefence\\src\\app\\core\\header\\header.component.ts"],"sourcesContent":["<header>\n    <!-- Navigation -->\n    <a id=\"logo\" routerLink=\"/home\"\n      ><img id=\"logo-img\" src=\"../../../assets/cute-baby-logo-design-vector_56473-234.webp\" alt=\"\"\n    /></a>\n\n    <nav>\n      <div>\n        <a routerLink=\"/strollers\">Catalog</a>\n        <a routerLink=\"/search\">Search</a>\n      </div>\n\n      <!-- Logged-in users -->\n      <div *ngIf=\"!!(isLogged$ | async)\" class=\"user\">\n        <a routerLink=\"/strollers/create\">Add+</a>\n        <a routerLink=\"/auth/profile\">{{ (currentUser$ | async)?.username }}</a>\n        <a (click)=\"logoutHandler()\">Logout</a>\n      </div>\n\n      <!-- Guest users -->\n      <div *ngIf=\"!(isLogged$ | async)\" class=\"guest\">\n        <a routerLink=\"/auth/login\">Login</a>\n        <a routerLink=\"/auth/register\">Register</a>\n      </div>\n    </nav>\n</header>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from 'src/app/auth.service';\nimport { IUser } from '../interfaces';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  isLoggingOut: boolean = false;\n\n  currentUser$: Observable<IUser> = this.authService.currentUser$;\n  isLogged$: Observable<boolean> = this.authService.isLogged$\n\n  constructor(private authService: AuthService , private router: Router) { }\n\n  ngOnInit(): void {\n  }\n  \n  logoutHandler(): void {\n    if(this.isLoggingOut) {\n      return;\n    }\n\n    this.isLoggingOut = true;\n\n    this.authService.logout$().subscribe({\n      next: () => {\n        this.isLoggingOut = false;\n        this.router.navigate(['/home'])\n      },\n      complete: () => console.log('logout completed'),\n      error: () => this.isLoggingOut = false\n    })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}